<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <header>
        <a href="/" class="logo">Hx2.Portfolio</a>
        <nav>
            <a href="/">Home</a>
            <a href="/projects">Projects</a>

            <% if (isLoggedIn) { %>
                <a href="/logout" style="color: var(--accent-deep); font-weight: bold;">Logout</a>
                <% } else { %>
                    <a href="/login">Login</a>
                    <% } %>
        </nav>
    </header>

    <main class="container">
        <section class="hero-section">
            <div class="hero-text">
                <h1>Backend<br>Developer</h1>
                <p>
                    <strong>Java</strong>ì™€ <strong>Node.js</strong>ë¥¼ ì£¼ë ¥ìœ¼ë¡œ í•˜ëŠ” ê°œë°œìì…ë‹ˆë‹¤.<br>
                    ì•ˆì •ì ì¸ ì„œë²„ êµ¬ì¶•ê³¼ ì§ê´€ì ì¸ <strong>ì›¹</strong> ê²½í—˜ì„ ë§Œë“­ë‹ˆë‹¤.<br>
                    í˜„ì¬ <strong>ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ ê¸°íš ë° ê°œë°œ</strong>í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>

            <div class="card main-dashboard-card">
                <div class="card-header">
                    <h3>Featured Project</h3>
                </div>

                <div class="fake-wave-chart">
                    <div class="scrollable-project-list">
                        <% if (projects.length===0) { %>
                            <div class="empty-state">
                                <p>ë“±ë¡ëœ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                                <a href="/projects/write" class="btn-small">ì²« í”„ë¡œì íŠ¸ ë“±ë¡í•˜ê¸° +</a>
                            </div>
                            <% } else { %>
                                <% projects.forEach(function(item) { %>
                                    <div class="mini-project-item" style="cursor: pointer;"
                                        ondblclick="if('<%= item.github_url %>') { window.open('<%= item.github_url %>', '_blank'); } else { alert('ë“±ë¡ëœ ê¹ƒí—ˆë¸Œ ì£¼ì†Œê°€ ì—†ìŠµë‹ˆë‹¤.'); }">
                                        <div class="mini-info">
                                            <h4>
                                                <%= item.title %>
                                            </h4>
                                            <span class="mini-desc">
                                                <%= item.description.substring(0, 30) %>...
                                            </span>
                                        </div>
                                        <span class="mini-badge">
                                            <%= item.stack.split(',')[0] %>
                                        </span>
                                    </div>
                                    <% }); %>
                                        <% } %>
                    </div>
                </div>
            </div>
        </section>

        <section class="bottom-section">
            <div class="card bottom-card">
                <div class="card-header-simple">
                    <span>Tech Stacks</span>
                    <span>ğŸ› ï¸</span>
                </div>
                <div class="skill-list">
                    <% if (stats.length===0) { %>
                        <p style="color: #888; text-align: center; width: 100%;">ì•„ì§ ë“±ë¡ëœ ê¸°ìˆ ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                        <% } else { %>

                            <% stats.forEach(function(item) { %>
                                <div class="skill-item">
                                    <div class="skill-info">
                                        <span>
                                            <%= item.name %>
                                        </span>
                                        <span>
                                            <%= item.percent %>%
                                        </span>
                                    </div>
                                    <div class="progress-bg">
                                        <div class="progress-bar" style="width: <%= item.percent %>%"></div>
                                    </div>
                                </div>
                                <% }); %>

                                    <% } %>
                </div>
            </div>

            <div class="card bottom-card">
                <div class="card-header-simple">
                    <span>Profile</span>
                    <span>ğŸ“ƒ</span>
                </div>
                <div class="contact-area">
                    <p class="contact-text">
                        í˜‘ì—… ì œì•ˆì´ë‚˜ í”„ë¡œì íŠ¸ ë¬¸ì˜ëŠ”<br>ì–¸ì œë“  í™˜ì˜í•©ë‹ˆë‹¤.
                    </p>
                    <div class="link-box">
                        <a href="https://github.com/hyuns2ung01" target="_blank" rel="noopener noreferrer">Github
                            Profile -></a>
                    </div>
                    <div class="link-box">
                        <a href="#" onclick="openModal(event)">Email Me -></a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="emailModal" class="modal-overlay" onclick="closeModal()">
        <div class="modal-box" onclick="event.stopPropagation()">
            <h3>ğŸ“¬ Contact Info</h3>
            <div class="info-group">
                <p class="modal-label"><strong>Email Address</strong></p>
                <p class="info-content">0711ohs@naver.com</p>
            </div>
            <button class="btn-accent" onclick="closeModal()" style="margin-top: 10px;">ë‹«ê¸°</button>
        </div>
    </div>

    <script>
        function openModal(e) {
            e.preventDefault();
            document.getElementById('emailModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('emailModal').style.display = 'none';
        }
    </script>
</body>

</html>